<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Student Notation Web Applet</title>
    <link rel="stylesheet" href="style.css" /> 
  </head>
  <body>
    <div id="app-container">
      <!-- =======================================================
           Top Toolbar
           ======================================================= -->
      <div id="top-toolbar">
        <!-- Container 1: Export & Import -->
        <div class="top-toolbar-container export-import-container">
          <div id="export-import-buttons">
            <button class="toolkit-button" id="export-button">Export</button>
            <button class="toolkit-button" id="import-button">Import</button>
          </div>
        </div>

        <!-- Container 2: Note Tools -->
        <div class="top-toolbar-container note-tools-container">
            <!-- UPDATED: Re-introducing note-pair for the 2x2 layout -->
            <div id="note-bank-container">
                <div class="note-bank-row">
                    <div class="note-pair" data-color="#0000ff">
                        <div class="note circle-note" data-type="circle" aria-label="Blue Circle Note" tabindex="0"></div>
                        <div class="note oval-note"   data-type="oval"   aria-label="Blue Oval Note"   tabindex="0"></div>
                    </div>
                    <div class="note-pair" data-color="#000000">
                        <div class="note circle-note" data-type="circle" aria-label="Black Circle Note" tabindex="0"></div>
                        <div class="note oval-note"   data-type="oval"   aria-label="Black Oval Note"   tabindex="0"></div>
                    </div>
                </div>
                <div class="note-bank-row">
                    <div class="note-pair" data-color="#ff0000">
                        <div class="note circle-note" data-type="circle" aria-label="Red Circle Note" tabindex="0"></div>
                        <div class="note oval-note"   data-type="oval"   aria-label="Red Oval Note"   tabindex="0"></div>
                    </div>
                    <div class="note-pair" data-color="#00ff00">
                        <div class="note circle-note" data-type="circle" aria-label="Green Circle Note" tabindex="0"></div>
                        <div class="note oval-note"   data-type="oval"   aria-label="Green Oval Note"   tabindex="0"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Container 3: Tonic Sign Tools -->
        <div class="top-toolbar-container tonic-sign-container">
            <button class="tonic-sign-button" data-tonic="1" aria-label="Tonicization 1">‚ìµ</button>
            <button class="tonic-sign-button" data-tonic="2" aria-label="Tonicization 2">‚ì∂</button>
            <button class="tonic-sign-button" data-tonic="3" aria-label="Tonicization 3">‚ì∑</button>
            <button class="tonic-sign-button" data-tonic="4" aria-label="Tonicization 4">‚ì∏</button>
            <button class="tonic-sign-button" data-tonic="5" aria-label="Tonicization 5">‚ìπ</button>
            <button class="tonic-sign-button" data-tonic="6" aria-label="Tonicization 6">‚ì∫</button>
            <button class="tonic-sign-button" data-tonic="7" aria-label="Tonicization 7">‚ìª</button>
        </div>

        <!-- Container 4: Waveform Presets -->
        <div class="top-toolbar-container preset-container">
            <div id="preset-buttons">
              <div id="preset-column-1" class="preset-column">
                  <button class="preset-button" id="preset-sine">Sine</button>
                  <button class="preset-button" id="preset-triangle">Triangle</button>
                  <button class="preset-button" id="preset-square">Square</button>
                  <button class="preset-button" id="preset-sawtooth">Sawtooth</button>
              </div>
              <div id="preset-column-2" class="preset-column">
                  <button class="preset-button" id="preset-piano">Piano</button>
                  <button class="preset-button" id="preset-strings">Strings</button>
                  <button class="preset-button" id="preset-woodwind">Woodwind</button>
                  <button class="preset-button" id="preset-marimba">Marimba</button>
              </div>
            </div>
        </div>

        <!-- Container 5: Harmonic Multislider -->
        <div class="top-toolbar-container multislider-container">
          <div class="buffer-container">
            <canvas id="harmonic-multislider-canvas"></canvas>
          </div>
        </div>

        <!-- Container 6: ADSR Visualization -->
        <div class="top-toolbar-container adsr-container">
          <div class="adsr-main-panel">
            <div class="adsr-graph-wrapper">
              <div id="adsr-envelope"></div>
            </div>
            <div class="sustain-slider-wrapper">
              <div id="sustain-slider-track">
                <div id="sustain-slider-thumb" tabindex="0">S</div>
              </div>
            </div>
          </div>
          <div id="multi-thumb-slider-container">
            <div class="time-slider-thumb" id="thumb-a" tabindex="0">A</div>
            <div class="time-slider-thumb" id="thumb-d" tabindex="0">D</div>
            <div class="time-slider-thumb" id="thumb-r" tabindex="0">R</div>
          </div>
        </div>
      </div>
      <!-- End Top Toolbar -->

      <!-- =======================================================
           Middle Section
           ======================================================= -->
      <div id="middle-section">
        <div id="grid-container-wrapper">
          <div id="time-signature-display"></div>
          <div id="grid-controls-container">
            <div id="beat-line-controls"></div>
          </div>
          <div id="pitch-grid-container">
            <div id="grid-container">
              <div id="pitch-canvas-wrapper">
                <canvas id="notation-grid"></canvas>
                <canvas id="playhead-canvas"></canvas>
                <canvas id="hover-canvas"></canvas>
              </div>
            </div>
          </div>
        </div>
        
        <div id="drum-grid-wrapper">
            <canvas id="drum-grid"></canvas>
            <canvas id="drum-hover-canvas"></canvas>
        </div>

      </div>
      <!-- End Middle Section -->

      <!-- =======================================================
           Bottom Toolbar
           ======================================================= -->
     <div id="bottom-toolbar">
        <div class="bottom-toolbar-container grid-nav-container">
          <div id="grid-nav-keypad">
            <button class="toolkit-button" id="grid-scroll-up" aria-label="Scroll Grid Up">‚ñ≤</button>
            <button class="toolkit-button" id="grid-zoom-in" aria-label="Zoom In">‚óÄüîç+</button>
            <button class="toolkit-button" id="grid-scroll-down" aria-label="Scroll Grid Down">‚ñº</button>
            <button class="toolkit-button" id="grid-zoom-out" aria-label="Zoom Out">üîç-‚ñ∂</button>
          </div>
        </div>
    
        <div class="bottom-toolbar-container volume-container">
          <div id="volume-container">
            <input type="range" id="volume-slider" min="0" max="100" value="75" step="1" aria-label="Volume Slider" />
            <div class="slider-label">Volume</div>
          </div>
        </div>
    
        <div class="bottom-toolbar-container play-controls-container">
          <div id="play-button-group">
            <button class="toolkit-button" id="play-button" aria-label="Play Music">‚èµ</button>
            <button class="toolkit-button" id="stop-button" aria-label="Stop Music">‚èπ</button>
            <button class="toolkit-button" id="undo-button" aria-label="Undo">Undo</button>
            <button class="toolkit-button" id="redo-button" aria-label="Redo">Redo</button>
            <button class="toolkit-button" id="clear-button" aria-label="Clear Notes">Clear</button>
          </div>
        </div>
    
        <div class="bottom-toolbar-container tempo-container">
          <div id="tempo-container">
            <div id="tempo-display-container">
                <div class="tempo-input-group">
                    <span class="tempo-label">‚ô™</span>
                    <input type="number" id="eighth-note-tempo" class="tempo-input">
                </div>
                <div class="tempo-input-group">
                    <span class="tempo-label">‚ô©</span>
                    <input type="number" id="quarter-note-tempo" class="tempo-input">
                </div>
                <div class="tempo-input-group">
                    <span class="tempo-label">‚ô©.</span>
                    <input type="number" id="dotted-quarter-tempo" class="tempo-input">
                </div>
            </div>
            <input type="range" id="tempo-slider" min="30" max="240" value="90" step="1" aria-label="Tempo Slider" />
            <div class="slider-label">Tempo</div>
          </div>
        </div>
    
        <div class="bottom-toolbar-container macrobeat-container">
          <div id="macrobeat-adjust-container">
            <button class="toolkit-button" id="macrobeat-decrease" aria-label="Decrease Macrobeat">‚Äì</button>
            <button class="toolkit-button" id="macrobeat-increase" aria-label="Increase Macrobeat">+</button>
            <button class="toolkit-button" id="loop-button" aria-label="Loop Playback">üîÅ</button>
          </div>
        </div>
    </div>
    
    </div>

    <script type="module" src="/js/main.js"></script>
  </body>
</html>