:root{--c-bg: #f8f9fa;--c-surface: #ffffff;--c-text: #212529;--c-text-muted: #6c757d;--c-border: #dee2e6;--c-gridline: #e9ecef;--c-accent: #4A90E2;--c-accent-hover: #357ABD;--c-danger: #dc3545;--c-warning: #ffc107;--space-1: 4px;--space-2: 8px;--space-3: 12px;--space-4: 16px;--space-5: 20px;--app-padding: var(--space-3);--note-size: 28px;--note-margin: var(--space-1);--border-radius-sm: 4px;--border-radius-md: 8px;--box-shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--box-shadow-md: 0 4px 6px rgba(0, 0, 0, .1);--main-font: "Atkinson Hyperlegible", Arial, sans-serif;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem}@font-face{font-family:Atkinson Hyperlegible;src:url(/Student-Notation/assets/AtkinsonHyperlegibleNext-Regular-DOJsAlq1.otf) format("opentype");font-weight:400;font-style:normal}*,*:before,*:after{box-sizing:border-box}html,body{margin:0;padding:0;height:100%;width:100%;overflow:hidden;font-family:var(--main-font);background-color:var(--c-bg);color:var(--c-text);display:flex}button{background-color:var(--c-accent);color:var(--c-surface);border:none;border-radius:var(--border-radius-md);padding:8px 12px;font-family:var(--main-font);font-size:14px;cursor:pointer;transition:background-color .2s,opacity .2s}button:hover,button:focus{background-color:var(--c-accent-hover);outline:none}button:disabled{background-color:var(--c-border);opacity:.7;cursor:not-allowed}:root{font-size:125%}body{font-size:var(--font-size-base)}button{font-size:var(--font-size-sm)}.slider-label{font-size:var(--font-size-base)}.tempo-input{font-size:var(--font-size-sm)}.app-title{font-size:var(--font-size-base)}.time-signature-label,.rhythm-ui-button{font-size:var(--font-size-sm)}.tonic-sign-button{font-size:var(--font-size-lg)}#app-container{display:flex;flex-direction:column;flex:1;min-height:0;padding:var(--app-padding);gap:var(--app-padding)}#top-toolbar,#controlToolbar{display:flex;gap:var(--space-2);padding:var(--space-2);border:1px solid var(--c-border);border-radius:var(--border-radius-md);background-color:var(--c-surface);box-shadow:var(--box-shadow-sm);overflow:visible;flex-shrink:0}#top-toolbar{height:22vh;align-items:stretch}#controlToolbar{height:auto;justify-content:flex-start;align-items:center}#middle-section{flex:1;display:flex;flex-direction:column;gap:var(--space-1);min-height:0;overflow-x:auto;align-items:flex-start}.top-toolbar-container,.bottom-toolbar-container{flex:1;border:1px solid var(--c-border);border-radius:var(--border-radius-md);padding:var(--space-1);display:flex;flex-direction:column;justify-content:center;align-items:center}.bottom-toolbar-container{border:none;padding:0;flex:0 0 auto}.export-import-container,.note-tools-container,.tonic-sign-container,.preset-container{flex:0 0 auto}.multislider-container{flex:2 1 0}.adsr-container{flex:3 1 0}#grid-container-wrapper{display:flex;flex-direction:column;flex:1;min-height:0;overflow-y:hidden;border:1px solid var(--c-border);border-radius:var(--border-radius-md);position:relative;background-color:var(--c-surface)}#pitch-grid-container{position:relative;width:100%;flex:1;overflow:hidden}#grid-container{position:relative;width:100%}#pitch-canvas-wrapper{position:relative;width:100%;background-color:transparent;border:none}#notation-grid,#playhead-canvas,#hover-canvas{position:absolute;top:0;left:0;display:block}#playhead-canvas,#hover-canvas,#drum-hover-canvas{pointer-events:none}#bottom-content-wrapper{display:flex;flex-direction:row;align-items:stretch;flex-shrink:0;min-height:90px}#drum-grid-wrapper{flex:1 1 auto;min-height:90px;overflow-x:hidden;overflow-y:hidden;position:relative}#drum-grid{display:block;border:1px solid var(--c-border);border-radius:var(--border-radius-md);background-color:var(--c-surface);box-sizing:border-box}#drum-hover-canvas{position:absolute;top:0;left:0;background-color:transparent;border:none}#right-side-container{flex:0 0 auto;border:1px solid var(--c-border);border-radius:var(--border-radius-md);background-color:var(--c-surface);display:flex;flex-direction:row-reverse;justify-content:center;align-items:center;gap:var(--space-2);padding:var(--space-2);box-sizing:border-box}#sidebar{position:fixed;top:0;left:0;width:250px;height:100%;background-color:#f8f9faf2;border-right:1px solid var(--c-border);box-shadow:var(--box-shadow-md);padding:var(--space-4);display:flex;flex-direction:column;gap:var(--space-4);z-index:2000;transform:translate(-100%);transition:transform .3s ease-in-out;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}body.sidebar-open #sidebar{transform:translate(0)}.sidebar-container{border:1px solid var(--c-border);border-radius:var(--border-radius-md);padding:var(--space-3);background-color:var(--c-surface)}.sidebar-container .app-title{text-align:center;font-weight:700;line-height:1.2;color:var(--c-text-muted)}.sidebar-button{display:block;width:100%;padding:var(--space-2) var(--space-3);text-align:left;margin-bottom:var(--space-2)}.sidebar-button:last-child{margin-bottom:0}#sidebar-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0006;z-index:1999;opacity:0;visibility:hidden;transition:opacity .3s ease-in-out,visibility .3s ease-in-out}body.sidebar-open #sidebar-overlay{opacity:1;visibility:visible}.app-controls-container{flex-direction:row!important;justify-content:flex-start!important;gap:var(--space-2);flex-grow:0!important;flex-basis:auto!important}.toolkit-icon-button{font-size:20px;width:40px;height:40px;padding:0;display:flex;align-items:center;justify-content:center;line-height:1;background-color:transparent;border:1px solid var(--c-border);color:var(--c-text-muted)}.toolkit-icon-button:hover{background-color:var(--c-gridline)}#volume-control-wrapper{position:relative}#volume-popup{position:absolute;top:100%;left:50%;transform:translate(-50%);background-color:var(--c-surface);border:1px solid var(--c-border);border-radius:var(--border-radius-md);padding:var(--space-3) var(--space-2);margin-top:var(--space-2);box-shadow:var(--box-shadow-sm);visibility:hidden;opacity:0;transition:opacity .2s,visibility .2s}#volume-popup.visible{visibility:visible;opacity:1}input[type=range][orient=vertical]{-moz-appearance:none;appearance:none;-webkit-appearance:none;writing-mode:vertical-lr;direction:rtl;width:8px;height:120px;padding:0 5px}#print-preview-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:1000;opacity:1;transition:opacity .3s ease}#print-preview-overlay.hidden{opacity:0;pointer-events:none}#print-preview-modal{background-color:var(--c-surface);border-radius:var(--border-radius-md);box-shadow:var(--box-shadow-md);width:80vw;height:80vh;display:flex;flex-direction:column}.print-preview-header{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;border-bottom:1px solid var(--c-border);flex-shrink:0}.print-preview-header h2{margin:0;font-size:18px}.print-preview-content{flex-grow:1;display:flex;gap:20px;padding:20px;min-height:0}.print-preview-canvas-wrapper{flex-grow:1;border:1px dashed var(--c-border);background-color:var(--c-bg);overflow:auto;padding:10px}#print-preview-canvas{display:block;background-color:#fff}.print-preview-options{flex-basis:280px;flex-shrink:0;display:flex;flex-direction:column;gap:15px}.print-option-row{display:grid;grid-template-columns:90px 40px 1fr;align-items:center;gap:10px}.print-option-row label{font-weight:700}.print-option-row span{font-family:monospace;font-size:12px}.print-preview-options h3{margin-top:10px;margin-bottom:5px;border-bottom:1px solid var(--c-gridline);padding-bottom:5px}.print-preview-footer{padding:10px 20px;border-top:1px solid var(--c-border);text-align:right;flex-shrink:0}.close-button{background:none;border:none;font-size:24px;line-height:1;padding:0 5px;color:var(--c-text-muted);cursor:pointer}.confirm-button{background-color:#28a745;font-weight:700}.confirm-button:hover{background-color:#218838}.toggle-button{width:100%;grid-column:2 / -1}.toggle-button.active{background-color:var(--c-accent)}.toggle-button:not(.active){background-color:var(--c-gridline);color:var(--c-text)}@media print{body>#app-container,body>#print-preview-overlay{display:none!important}#print-staging-area{display:block!important;visibility:visible!important;margin:0;padding:0}#print-staging-area img{display:block!important;visibility:visible!important;width:100%;height:auto}}#print-staging-area{display:none}input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:var(--space-2);border-radius:var(--border-radius-sm);background:var(--c-gridline);outline:none;margin-block-start:var(--space-2);margin-block-end:0}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--c-accent);border:2px solid var(--c-surface);box-shadow:var(--box-shadow-sm);cursor:pointer}input[type=range]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--c-accent);border:2px solid var(--c-surface);box-shadow:var(--box-shadow-sm);cursor:pointer}.slider-label{margin-block-start:var(--space-2);color:var(--c-text-muted);text-align:center;-webkit-user-select:none;user-select:none}.tonic-sign-container{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-1);justify-items:center;align-content:center;padding:var(--space-2)}.tonic-sign-button{padding:var(--space-1);width:32px;height:32px;line-height:1;border-radius:var(--border-radius-md)}#preset-buttons{display:flex;flex-direction:row;gap:var(--space-2);width:100%;height:100%}.preset-column{flex:1;display:flex;flex-direction:column;gap:var(--space-1)}.preset-button{width:100%;flex:1;padding:var(--space-1);background-color:var(--c-gridline);color:var(--c-text);border:1px solid var(--c-border)}.preset-button:hover{background-color:var(--c-border)}#play-button-group{display:flex;flex-direction:row;gap:var(--space-1);align-items:center;justify-content:center;width:100%}#grid-nav-keypad{display:flex;gap:var(--space-1)}#macrobeat-adjust-container{display:flex;flex-direction:row;gap:var(--space-1)}.note-tools-container{flex-direction:row;align-items:center;justify-content:center;gap:var(--space-2)}#note-bank-container{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-2)}.note-bank-row{display:flex;flex-direction:row;gap:var(--space-2)}.note-pair{display:flex;flex-direction:row;align-items:center;gap:var(--space-1);padding:3px;border-radius:var(--border-radius-md);border:2px solid transparent}.note{width:var(--note-size);height:var(--note-size);margin:0;cursor:pointer;border-radius:50%;transition:all .2s;background-color:transparent;border:4px solid var(--note-color, #000)}.note:hover{transform:scale(1.1)}.oval-note{width:calc(var(--note-size) * .7)}#tempo-display-container{display:flex;justify-content:center;gap:24px;width:100%;margin-block-end:var(--space-1);color:var(--c-text)}.tempo-input-group{display:flex;align-items:center;gap:var(--space-2)}.tempo-label{font-size:24px;-webkit-user-select:none;user-select:none;color:var(--c-text-muted)}.tempo-input{width:45px;background-color:var(--c-bg);color:var(--c-text);border:1px solid var(--c-border);border-radius:var(--border-radius-sm);text-align:center;font-family:var(--main-font)}.tempo-input::-webkit-outer-spin-button,.tempo-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}#grid-controls-container{position:relative;height:30px;margin-block-end:var(--space-1)}#time-signature-display{height:20px;width:100%;position:relative}.rhythm-ui-button{background-color:#fffc;color:var(--c-text);border:1px solid var(--c-border);border-radius:50%;width:20px;height:20px;padding:0;line-height:18px;text-align:center;z-index:10;position:absolute;transform:translate(-50%)}.rhythm-ui-button:hover{background-color:var(--c-surface);border-color:var(--c-text)}.time-signature-label{background:var(--c-bg);padding-block:2px;padding-inline:var(--space-2);border-radius:var(--border-radius-sm);font-weight:700;color:var(--c-text-muted);-webkit-user-select:none;user-select:none;position:absolute;transform:translate(-50%)}.time-signature-label.anacrusis-label{color:var(--c-border)}.adsr-container{flex-direction:column;justify-content:flex-start}.adsr-main-panel{display:flex;flex-direction:row;width:100%;flex-grow:1;gap:var(--space-2);min-height:0}.adsr-graph-wrapper{flex-grow:1;position:relative;border:1px solid var(--c-border);border-radius:var(--border-radius-sm)}#adsr-envelope{width:100%;height:100%}#adsr-envelope svg{display:block;width:100%;height:100%;background-color:transparent}.sustain-slider-wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-inline:var(--space-1);width:20px}#sustain-slider-track{position:relative;width:var(--space-2);height:100%;background-color:var(--c-gridline);border-radius:var(--border-radius-sm)}#sustain-slider-track:before{content:"";position:absolute;bottom:0;left:0;width:100%;height:var(--sustain-progress, 0%);background-color:var(--c-accent);border-radius:var(--border-radius-sm)}#sustain-slider-thumb{position:absolute;left:50%;transform:translate(-50%,50%);width:20px;height:20px;background-color:var(--c-accent);border-radius:50%;border:2px solid var(--c-surface);box-shadow:var(--box-shadow-sm);cursor:grab;color:var(--c-surface);font-size:12px;font-weight:700;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none}#sustain-slider-thumb:active{cursor:grabbing;background-color:var(--c-accent-hover);transform:translate(-50%,50%) scale(1.1)}#multi-thumb-slider-container{position:relative;width:calc(100% - 30px);height:var(--space-2);border-radius:var(--border-radius-sm);margin-block-start:var(--space-3);align-self:flex-start;background:linear-gradient(to right,var(--c-accent) var(--adr-progress, 0%),var(--c-gridline) var(--adr-progress, 0%))}.time-slider-thumb{position:absolute;top:50%;transform:translate(-50%,-50%);width:20px;height:20px;background-color:var(--c-accent);border-radius:50%;border:2px solid var(--c-surface);box-shadow:var(--box-shadow-sm);cursor:grab;color:var(--c-surface);font-size:12px;font-weight:700;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none}.time-slider-thumb:active{cursor:grabbing;background-color:var(--c-accent-hover);transform:translate(-50%,-50%) scale(1.1)}.multislider-container{border-radius:var(--border-radius-md);flex-direction:column;justify-content:flex-start}.multislider-container .buffer-container{width:100%;height:100%;padding:0;margin:0;box-sizing:border-box;position:relative}#harmonic-multislider-canvas{display:block;width:100%;height:100%;position:relative;z-index:1}#filter-overlay-canvas{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:2}.filter-top-controls{display:flex;align-items:center;gap:var(--space-3);width:calc(100% - 30px);align-self:center;margin-bottom:var(--space-2)}#filter-enable-toggle{flex-shrink:0;padding:var(--space-1) var(--space-3);background-color:var(--c-gridline);color:var(--c-text-muted);border:1px solid var(--c-border)}#filter-enable-toggle.active{background-color:var(--c-accent);color:var(--c-surface);border-color:var(--c-accent-hover)}#blend-slider-container{flex-grow:1;position:relative;height:var(--space-2);border-radius:var(--border-radius-sm);background-color:var(--c-gridline)}.filter-main-panel{display:flex;flex-direction:row;width:100%;flex-grow:1;gap:var(--space-2);min-height:0}.resonance-slider-wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-inline:var(--space-1);width:20px;transition:opacity .2s}#resonance-slider-track{position:relative;width:var(--space-2);height:100%;background-color:var(--c-gridline);border-radius:var(--border-radius-sm)}#resonance-slider-track:before{content:"";position:absolute;bottom:0;left:0;width:100%;height:var(--resonance-progress, 0%);background-color:var(--c-accent);border-radius:var(--border-radius-sm)}#resonance-slider-thumb{position:absolute;left:50%;transform:translate(-50%,50%);width:20px;height:20px;background-color:var(--c-accent);border-radius:50%;border:2px solid var(--c-surface);box-shadow:var(--box-shadow-sm);cursor:grab;color:var(--c-surface);font-size:12px;font-weight:700;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none}#resonance-slider-thumb:active{cursor:grabbing;background-color:var(--c-accent-hover);transform:translate(-50%,50%) scale(1.1)}#cutoff-slider-container{position:relative;width:calc(100% - 30px);height:var(--space-2);border-radius:var(--border-radius-sm);margin-block-start:var(--space-3);align-self:flex-start;background-color:var(--c-gridline);transition:opacity .2s}.filter-cutoff-thumb,.filter-blend-thumb{position:absolute;top:50%;transform:translate(-50%,-50%);width:20px;height:20px;background-color:var(--c-accent);border-radius:50%;border:2px solid var(--c-surface);box-shadow:var(--box-shadow-sm);cursor:grab;color:var(--c-surface);font-size:12px;font-weight:700;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none}.filter-cutoff-thumb:active,.filter-blend-thumb:active{cursor:grabbing;background-color:var(--c-accent-hover);transform:translate(-50%,-50%) scale(1.1)}.multislider-container.filter-disabled #blend-slider-container,.multislider-container.filter-disabled .resonance-slider-wrapper,.multislider-container.filter-disabled #cutoff-slider-container{opacity:.5;pointer-events:none}.note.selected{background-color:var(--note-color, #000)}.note-pair.selected{border-color:var(--c-accent)!important;box-shadow:0 0 8px var(--c-accent)}.tonic-sign-button.selected{border:2px solid var(--c-accent)!important;box-shadow:0 0 5px var(--c-accent)}.preset-button.selected{background-color:var(--c-accent);color:var(--c-surface);border:1px solid var(--c-accent-hover);box-shadow:0 0 5px var(--c-accent)}.preset-button.selected:hover{background-color:var(--c-accent-hover)}#loop-button.active{background-color:var(--c-accent-hover);border-color:var(--c-accent)}#play-button.active{color:#28a745}
